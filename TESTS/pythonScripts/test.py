import re
import os
from codification_commas import insertar_comillas
from codification_spaces import insertar_tags
from decodification_spaces import retrieve_msg_spaces
from decodification_commas import retrieve_msg_commas



def main():


    payloadmsg_quotes = "1001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110111001100000110101010100111001110010000110101110110000110110111101110111"

    payloadmsg_spaces = "100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100110000011010101010011100111001000011010111011100100011000001001"

    choose = payloadmsg_spaces
    choose_list = list(choose)


    with open("/home/alexms/Desktop/MASTER/ASIGNATURAS/SEMESTER2/PERSISTENT_THREATS_INFORMATION_LEAKAGE/steganographyLab/TESTS/pythonScripts/input.html") as fd:
        html = fd.read()


    # ENCODE pyaload msg multiple times with quotes codification
    newhtml = []
    for line in html.splitlines():

        newline = insertar_tags(line, choose_list)
        newhtml.append(newline)


    # print("\n".join(newhtml))
    ### QUOTATION MARKS
    output = []
    for line in newhtml:
        bits = retrieve_msg_spaces(line)
        if(len(bits)>0):
            output += bits

    output = "".join(output)
    print(choose)
    print(output)
    print(choose == output)



if __name__ == "__main__":
    main()
